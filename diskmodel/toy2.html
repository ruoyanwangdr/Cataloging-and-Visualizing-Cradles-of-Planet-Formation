<html>
	<head>
		<title>Tests</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="https://threejs.org/build/three.min.js"></script>
		<script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
		<script src="js/csg.js"></script>
		<script src="js/lightgl.js"></script>
		<script src="js/viewer.js"></script>

		</script>

		</script>
		<script>
			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 1, 1000);
			camera.position.set(0, 10, 20);
			var renderer = new THREE.WebGLRenderer({
			  antialias: true
			});
			renderer.setSize(window.innerWidth, window.innerHeight);
			renderer.setClearColor(0x818181);
			document.body.appendChild(renderer.domElement);

			var controls = new THREE.OrbitControls(camera, renderer.domElement);

			/*
			var loader = new THREE.TextureLoader();
			loader.setCrossOrigin("");
			var texture1 = loader.load("https://threejs.org/examples/textures/crate.gif");
			texture1.wrapS = texture1.wrapT = THREE.RepeatWrapping;
			texture1.repeat.set(0.05, 0.05);
			var texture2 = loader.load("https://threejs.org/examples/textures/hardwood2_diffuse.jpg");
			texture2.wrapS = texture2.wrapT = THREE.RepeatWrapping;
			texture2.repeat.set(0.1, 0.1);
			*/

			var outerRadius = 10;
			var innerRadius = 7;
			var height = 3.5;

			var arcShape = new THREE.Shape();
			arcShape.moveTo(outerRadius * 2, outerRadius);
			arcShape.absarc(outerRadius, outerRadius, outerRadius, 0, Math.PI * 2, false);
			var holePath = new THREE.Path();
			holePath.moveTo(outerRadius + innerRadius, outerRadius);
			holePath.absarc(outerRadius, outerRadius, innerRadius, 0, Math.PI * 2, true);
			arcShape.holes.push(holePath);

			var geometry = new THREE.ExtrudeGeometry(arcShape, {
			  amount: height,
			  bevelEnabled: false,
			  steps: 1,
			  curveSegments: 60
			});
			geometry.center();
			geometry.rotateX(Math.PI * -.5);
			var mesh = new THREE.Mesh(geometry, [new THREE.MeshBasicMaterial({
			  color: 0x156289, emissive: 0x072534, flatShading: true
			}), new THREE.MeshBasicMaterial({
			  color: 0xffffff, transparent: true, opacity: 0.5
			})]);
			//scene.add(mesh);

			//var sphere = new THREE.Mesh( new THREE.SphereGeometry(10,16,12),new THREE.MeshLambertMaterial( { color: 0x2D303D, wireframe: true, shading: THREE.FlatShading } ));
      //var cylinder = new THREE.Mesh(new THREE.CylinderGeometry(10, 10, 20, 16, 4, false ),new THREE.MeshLambertMaterial( { color: 0x2D303D, wireframe: true, shading: THREE.FlatShading } ));
      //cylinder.position.y = -100;
      //scene.add(sphere);
      //scene.add(cylinder);

			//var cylinder = THREE.CSG.toCSG(new THREE.CylinderGeometry(100, 100, 200, 16, 4, false ),new THREE.Vector3(0,-100,0));
			//var sphere   = THREE.CSG.toCSG(new THREE.SphereGeometry(100,16,12));
			//var geometry = cylinder.union(sphere);
			//var mesh     = new THREE.Mesh(THREE.CSG.fromCSG( geometry ),new THREE.MeshNormalMaterial());
			//scene.add(mesh)

			var cube = CSG.cube();
			var sphere = CSG.sphere({ radius: 1.3 });
			var polygons = cube.subtract(sphere).toPolygons();

			var a = CSG.cube({ center: [-0.25, -0.25, -0.25] });
			var b = CSG.sphere({ radius: 1.3, center: [0.25, 0.25, 0.25] });

			var a = CSG.cube();
			var b = CSG.sphere({ radius: 1.35, stacks: 12 });
			var c = CSG.cylinder({ radius: 0.7, start: [-1, 0, 0], end: [1, 0, 0] });
			var d = CSG.cylinder({ radius: 0.7, start: [0, -1, 0], end: [0, 1, 0] });
			var e = CSG.cylinder({ radius: 0.7, start: [0, 0, -1], end: [0, 0, 1] });

			var a = CSG.cube();
			var b = CSG.sphere({ radius: 1.35 });
			a.setColor(1, 1, 0);
			b.setColor(0, 0.5, 1);

			var tx = new a.subtract(b);

			scene.add(tx)

			render();

			function render() {
			  requestAnimationFrame(render);
			  renderer.render(scene, camera);
			}
		</script>
	</body>
</html>
